#+TITLE: nix home-manager config

* How to use it
#+BEGIN_SRC shell
git clone 
ln -s `pwd` ~/.config/nixpkgs
#+END_SRC


* In General
** home-manager's channle version must match the nixpgs version
For example: 
if we are using 19.09 channel, our home-manager channel should
#+BEGIN_SRC shell
home-manager https://github.com/rycee/home-manager/archive/release-19.09.tar.gz
nixpkgs https://nixos.org/channels/nixpkgs-19.09-darwin
#+END_SRC

otherwise, there can be unexpected issues.

** Update

#+BEGIN_SRC shell
nix-channel --update home-manager
home-manager switch
#+END_SRC

** How to pin down git branch
#+BEGIN_SRC shell
nix-prefetch-git https://github.com/target/lorri.git 61caab4d1a79fe7ec9470d5670677ee3e8b84e4f > lorri.json
#+END_SRC

** How to get sha256 of file
#+BEGIN_SRC
openssl dgst -r -sha256
shasum -a 256
#+END_SRC
=======

* Log 
** Add pass-git-helper
https://github.com/Gabriel439/haskell-nix/blob/master/project0/README.md#pinning-nixpkgs
#+BEGIN_SRC shell
nix-prefetch-git https://github.com/languitar/pass-git-helper.git 713d67d73662f2c072ff2cbde896462dd7b1da9f  > pass-git-helper.json
#+END_SRC

** Install Knative
example to install go executable

https://github.com/derailed/k9s
https://github.com/NixOS/nixpkgs/blob/master/pkgs/applications/networking/cluster/k9s/default.nix

* References:
- https://github.com/rycee/home-manager
- https://github.com/jwiegley/nix-config
- https://github.com/yrashk/nix-home
- https://github.com/bkase/life
- https://github.com/tviti/nix-cfg



* TODOs
** TODO finish wire zsh 
** TODO install google-cloud-sdk, wire path, and zsh shell completion
** TODO https://github.com/zsh-users/zsh-history-substring-search
** TODO wire plantuml jar "${pkgs.plantuml}/lib/plantuml.jar"
